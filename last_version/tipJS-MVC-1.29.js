/*
 * tipJS - OpenSource Javascript MVC Framework ver.1.29
 * 
 * Copyright 2012.07 SeungHyun PAEK
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * HomePage: http://www.tipjs.com
 * Contact: http://www.tipjs.com/contact
 */
var tipJS=tipJS||{};tipJS.ver=tipJS.version="1.29";(function(){var I=tipJS.getById=function(X,i){return !i?document.getElementById(X):i.getElementById(X)};var v=tipJS.getByName=function(i,X){return !X?document.getElementsByName(i):X.getElementsByName(i)};var N=tipJS.getByTag=function(i,X){return !X?document.getElementsByTagName(i):X.getElementsByTagName(i)};var j=function(X,Y){for(var i in Y){if(X[i]){continue}X[i]=Y[i]}return X};var p=function(aa,Y){if(!Y||typeof Y!="object"||(!Y.__name&&!Y.name)){throw"Please check your "+aa+" definition"}var X=(Y.__name)?Y.__name:Y.name;if(typeof X!="string"){throw"Please check your "+aa+" definition"}if(Y.__extend&&Y.__extend===X&&aa!="controllers"){throw"Can't extend itself"}var Z=X.split("."),ab=Z[0],i=Z[1],ac=J(ab);if(!ac){throw"Please check your "+aa+" definition"}if(ac.loadOrder.presentOrder()===aa){if(aa=="controllers"){Y.__appName__=ab}else{if(Y.__name){delete Y.__name}}S.depart[ab]=S.depart[ab]||{};S.depart[ab][aa]=S.depart[ab][aa]||{};S.depart[ab][aa][i]=Y}};var W=function(ab,X){if(X===S.OBJ_TPL.loadOrder.order[0]){return V(ab[X])}var aa=ab.name;if(P.MAIN&&P.MAIN!=aa&&X!="models"){return[]}if(X===S.OBJ_TPL.loadOrder.order[1]&&ab.localSet){ab[X]=[H+s.path.lang+g.pathDiv+tipJS.lang+".js"];return ab[X]}var Z=s.path[X],Y=s.applicationPath[aa],i=V(ab[X]);return B(Y,Z,i)};var B=function(Z,ab,aa){var Y=[];for(var X=aa.length;X--;){Y.push(Z+l(ab)+aa[X])}return Y};var K=function(X,i){if(i.nocache===true){X=(X.indexOf("?")<0)?X+"?":X+"&";X=X+i.paramName+"="+i.version}return X};var w=tipJS.loadJS=function(Z,Y,X){var i=document.createElement("script");i.type="text/javascript";i.src=K(Z,Y);i.charset=s.charSet;if(X){if(i.readyState){i.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete"){this.onreadystatechange=null;X(this)}}}else{i.onload=function(){X(this)}}}document.getElementsByTagName("head")[0].appendChild(i)};var b=function(X,Z,Y){var i=function(aa){if(u(X,Z,aa.src)){f(X)}};w(Y,E(X),i)};var A=function(X,aa){m(X,aa);var Y=h(X);var ab=W(Y,aa);S[X][aa].requireList=ab;if(ab.length>0){for(var Z=ab.length;Z--;){b(X,aa,ab[Z])}}else{f(X)}};var r=function(Z){if(!Z.__extend){return Z}if(typeof Z.__extend==="string"){Z=x(Z,Z.__extend)}else{if(Z.__extend instanceof Array){var X=Z.__extend;for(var Y=X.length;Y--;){Z=x(Z,X[Y])}}}delete Z.__extend;return Z};var x=function(Y,X){var i=X.split(".");if(i.length==2){return j(Y,q(i[1],false,i[0]))}else{return j(Y,y(X))}};var y=tipJS.loadCommonModel=function(X,ab){var Z=S.common.models;if(!Z[X]||Z[X]==undefined){throw"Could not find commonModel: "+X}if(ab===true){var Y=S.common.syncModels;if(!Y){Y=S.common.syncModels={}}if(Y[X]){return Y[X]}var i=Y[X]=r(c(Z[X]));if(X.lastIndexOf("VO")==(X.length-2)){if(typeof i.__init==="function"){i.__init();delete i.__init}return i}i.loadCommonModel=y;i.getById=I;i.getByName=v;i.getByTag=N;if(typeof i.__init==="function"){i.__init();delete i.__init}return i}var aa=r(c(Z[X]));if(X.lastIndexOf("VO")==(X.length-2)){if(typeof aa.__init==="function"){aa.__init();delete aa.__init}return aa}aa.loadCommonModel=y;aa.getById=I;aa.getByName=v;aa.getByTag=N;if(typeof aa.__init==="function"){aa.__init();delete aa.__init}return aa};var q=function(Y,ad,X){var ac=(!X)?P.MAIN:X,aa=S.depart[ac].models;if(!aa[Y]||aa[Y]==undefined){throw"Could not find model: "+Y}if(ad===true){var Z=S.depart[ac].syncModels;if(!Z){Z=S.depart[ac].syncModels={}}if(Z[Y]){return Z[Y]}var i=Z[Y]=r(c(aa[Y]));if(Y.lastIndexOf("VO")==(Y.length-2)){if(typeof i.__init==="function"){i.__init();delete i.__init}return i}i.loadCommonModel=y;i.loadModel=q;i.getById=I;i.getByName=v;i.getByTag=N;if(typeof i.__init==="function"){i.__init();delete i.__init}return i}var ab=r(c(aa[Y]));if(Y.lastIndexOf("VO")==(Y.length-2)){if(typeof ab.__init==="function"){ab.__init();delete ab.__init}return ab}ab.loadCommonModel=y;ab.loadModel=q;ab.getById=I;ab.getByName=v;ab.getByTag=N;if(typeof ab.__init==="function"){ab.__init();delete ab.__init}return ab};tipJS.loadModel=function(X,ab){var ac=(typeof ab==="boolean")?ab:false;try{var Y=X.split("."),aa=Y[0],i=Y[1]}catch(Z){throw"tipJS.loadModel : invalid parameter"}return q(i,ac,aa)};var J=function(i){return P[i]};var h=function(i){return P[i].define};var E=function(i){var Y={};var X=h(i);if(X){var Z=X.noCacheVersion;if(X.noCacheAuto===true){Z=""+Math.random()}Y.nocache=X.noCache;Y.version=Z;Y.paramName=X.noCacheParam}return Y};var f=function(Y){var ab=J(Y);if(ab.loadOrder.isLastOrder()===false){A(Y,ab.loadOrder.nextOrder());return}if(P.MAIN!=Y){return}var X=function(ae){var ad=S.common.views;if(!ad||!ad[ae]||ad[ae]==undefined){throw"Could not find commonView: "+ae}var ac=c(ad[ae]);ac.loadCommonView=X;ac.renderTemplate=e;ac.getById=I;ac.getByName=v;ac.getByTag=N;if(ac.__extend&&typeof ac.__extend==="string"){ac=j(ac,X(ac.__extend));delete ac.__extend}if(typeof ac.__init==="function"){ac.__init();delete ac.__init}return ac};var aa=function(ah,ac){var ag=(!ac)?P.MAIN:ac,af=S.depart[ag].views;if(!af||!af[ah]||af[ah]==undefined){throw"Could not find view: "+ah}var ae=c(af[ah]);ae.loadCommonView=X;ae.loadView=aa;ae.renderTemplate=e;ae.getById=I;ae.getByName=v;ae.getByTag=N;if(ae.__extend&&typeof ae.__extend==="string"){var ad=ae.__extend.split(".");if(ad.length==2){ae=j(ae,aa(ad[1],ad[0]))}else{ae=j(ae,X(ae.__extend))}delete ae.__extend}if(typeof ae.__init==="function"){ae.__init();delete ae.__init}return ae};var i=ab.controller=S.depart[Y].controllers;if(i){for(var Z in i){i[Z].loadCommonModel=y;i[Z].loadCommonView=X;i[Z].loadModel=q;i[Z].loadView=aa;i[Z].renderTemplate=e;i[Z].getById=I;i[Z].getByName=v;i[Z].getByTag=N}}(function(ad){var ah=J(ad);ah.define.onLoad(ah.onLoadParam);if(C&&C[ad]){var ae=C[ad];for(var ag=0,af=ae.length;ag<af;ag++){var ac=ae[ag];tipJS.action(ac.name,ac.param)}delete C[ad]}})(Y)};var u=function(X,aa,ac){var ab=S[X][aa].requireList;for(var Z=ab.length;Z--;){if(ab[Z]===true){continue}var Y=ab[Z].indexOf("./")>-1?ab[Z].substr(ab[Z].lastIndexOf("./")+1):ab[Z];if(ac.indexOf(Y)>-1){ab[Z]=true;break}}for(var Z=ab.length;Z--;){if(ab[Z]!==true){return false}}return true};var l=function(i){return g.pathDiv+i+g.pathDiv};var c=function(X){function i(){}i.prototype=X;return new i()};tipJS.cloneObject=function(Y){if(typeof Y=="boolean"||typeof Y=="number"||typeof Y=="string"){return Y}var X=(Y instanceof Array)?[]:{};for(var i in Y){if(Y[i]&&typeof Y[i]=="object"){X[i]=widgetApp.cloneObj(Y[i])}else{X[i]=Y[i]}}return X};var F=tipJS.echo=function(Z,X,Y){if(Y&&(typeof Y!="string"||typeof Y=="string"&&Y.split(".").length>5)){return}if(!X){X=""}if(Z===null||Z===undefined){console.log(((Y)?Y+".":"")+Z);return}if(typeof Z=="boolean"||typeof Z=="number"||typeof Z=="string"){if(typeof Z==X||X==""){console.log(((Y)?Y+".":"")+Z)}return}for(var i in Z){if(Z[i]&&Z[i] instanceof Array){console.log(((Y)?Y+".":"")+i+":Array");F(Z[i],X,((Y)?Y+".":"")+i)}else{if(Z[i]&&typeof Z[i]=="object"){console.log(((Y)?Y+".":"")+i+":Object");F(Z[i],X,((Y)?Y+".":"")+i)}else{if(typeof Z[i]==X||X==""){console.log(((Y)?Y+".":"")+i+":"+Z[i])}}}}};var V=tipJS.uniqueArray=function(Y){var aa=[],X=Y.length;for(var ab=0;ab<X;ab++){for(var Z=ab+1;Z<X;Z++){if(Y[ab]===Y[Z]){Z=++ab}}aa.push(Y[ab])}return aa};var m=function(i,X){S[i]=S[i]||{};S[i][X]=S[i][X]||{}};var G=function(Z,Y){for(var aa=0,X=Y.length;aa<X;aa++){var ab=Y[aa];if(Z.noCache&&Z.noCache===true){ab+=(ab.indexOf("?")<0)?"?":"&";ab+=(Z.noCacheParam?Z.noCacheParam:s.noCacheParam)+"=";if(Z.noCacheAuto===true){ab+=Math.random()}else{ab+=(Z.noCacheVersion?Z.noCacheVersion:s.noCacheVersion)}}document.write('<script type="text/javascript" charset="'+(Z.charSet?Z.charSet:s.charSet)+'" src="'+ab+'"><\/script>')}};tipJS.config=function(Y){if(Y.commonLib){G(Y,Y.commonLib);delete Y.commonLib}if(Y.commonModel){G(Y,Y.commonModel);delete Y.commonModel}if(Y.commonView){G(Y,Y.commonView);delete Y.commonView}s=j(Y,S.OBJ_TPL.config);if(tipJS.isDevelopment===null){var X=window.location.hostname;if(X.length==0){tipJS.isDevelopment=true;return}for(var Z=s.developmentHostList.length;Z--;){if(X.match(s.developmentHostList[Z])!==null){tipJS.isDevelopment=true;break}}}};var a=function(){var i=new Date();return(i.now)?i.now():i.getTime()};tipJS.benchmark={};var z={};tipJS.benchmark.mark=function(i){z[i]=a()};tipJS.benchmark.elapsedTime=function(i,Z,X){var Y=z[i],ab=z[Z],aa=(ab-Y)/1000;if(X){X(i,Z,Y,ab,aa)}else{tipJS.log("elapsed time["+i+" to "+Z+"] : "+aa+" seconds","[BENCHMARK]")}return aa};var L=function(){var i=false;if(window.XMLHttpRequest){i=new XMLHttpRequest()}else{if(window.ActiveXObject){try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(Y){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(X){}}}}L=function(){return i};return L()};var e=function(Z){var ab=P.MAIN;if(h(ab).templateCache&&t[Z.url]){var Y=Q(t[Z.url],Z.data);if(typeof Z.renderTo=="string"){document.getElementById(Z.renderTo).innerHTML+=Y}return Y}var X=E(ab),ac=K(Z.url,X),i=L();i.open("GET",ac,false);try{i.send(null)}catch(aa){return null}if(i.readyState==4&&i.status==200){var Y=t[Z.url]=i.responseText;Y=Q(Y,Z.data);if(typeof Z.renderTo=="string"){document.getElementById(Z.renderTo).innerHTML+=Y}return Y}else{throw"Could not find template file:"+ac}};var Q=function(X,Z){X=X.replace(/\r\n/g,"\n");X=X.replace(/\r/g,"\n");X=X.replace(/\\/g,"\\\\");X=X.replace(/\n/g,"");var i=X.split("@>"),Y=new Function("data",R(i));return Y(Z)};var R=function(af){var ai=[],ag=[],X=[],ad="PLANE",ah="VALUE",Z="PARSE",ab="__temp_HTML__.push(";ai.push("var __temp_HTML__ = [];");for(var aa=0,ae=af.length;aa<ae;aa++){var ac=af[aa];if(ac.indexOf("<@=")>-1){var Y=ac.split("<@=");if(Y.length>1){X.push(Y[0].replace(/"/g,'\\"'));X.push(Y[1]);ag.push(ad);ag.push(ah)}else{X.push(Y[0]);ag.push(ah)}}else{if(ac.indexOf("<@")>-1){var Y=ac.split("<@");if(Y.length>1){X.push(Y[0].replace(/"/g,'\\"'));X.push(Y[1]);ag.push(ad);ag.push(Z)}else{X.push(Y[0]);ag.push(Z)}}else{X.push(ac.replace(/"/g,'\\"'));ag.push(ad)}}}for(var aa=0,ae=X.length;aa<ae;aa++){var ac=X[aa];if(ag[aa]==ah){ac='""+'+ac+'+""';ai.push(ab+ac+");")}else{if(ag[aa]==Z){ai.push(ac)}else{ac='"'+ac+'"';ai.push(ab+ac+");")}}}ai.push("return __temp_HTML__.join('');");return ai.join("")};tipJS.commonModel=function(i){if(!i||typeof i!="object"||(!i.__name&&!i.name)){throw"Please check your CommonModel definition"}var X=(i.__name)?i.__name:i.name;if(typeof X!="string"){throw"Please check your CommonModel definition"}if(i.__extend&&i.__extend===X){throw"Can't extend itself"}if(i.__name){delete i.__name}S.common.models[X]=i};tipJS.commonView=function(i){if(!i||typeof i!="object"||(!i.__name&&!i.name)){throw"Please check your CommonView definition"}var X=(i.__name)?i.__name:i.name;if(typeof X!="string"){throw"Please check your CommonView definition"}if(i.__extend&&i.__extend===X){throw"Can't extend itself"}if(i.__name){delete i.__name}S.common.views[X]=i};var g=(function(){var i={pathDiv:"/",blank:"",extJS:"js",extDiv:"."};return i})();tipJS.log=function(Y,Z){window.console=window.console||{log:function(){},error:function(){}};var ad=new Date(),i=ad.getFullYear(),af=ad.getMonth()+1,aa=ad.getDate(),ae=ad.getHours(),X=ad.getMinutes(),ab=ad.getSeconds(),ac=ad.getMilliseconds();console.log(((Z)?Z:"")+i+"/"+af+"/"+aa+" "+ae+":"+X+":"+ab+"."+ac+" "+Y)};tipJS.debug=function(i){if(tipJS.isDevelopment){tipJS.log(i,"[DEBUG]")}};tipJS.localSet=function(i){var X=J(P.MAIN);if(X.loadOrder.presentOrder()===S.OBJ_TPL.loadOrder.order[1]){O=i}};tipJS.msg=function(i){return O[i]?O[i]:i};tipJS.controller=function(i){p("controllers",i)};tipJS.model=function(i){p("models",i)};tipJS.view=function(i){p("views",i)};tipJS.action=function(Y,X){var ag,ad,af;try{ag=Y.split(".");ad=ag[0];af=ag[1];if(ad.length==0||af.length==0){throw""}}catch(ae){throw"tipJS.action : invalid parameter"}var ab=J(ad);if(!ab||!ab.loadOrder||!ab.loadOrder.isLastOrder()){C=C||{};C[ad]=C[ad]||[];C[ad].push({name:Y,param:X});return}if(!ab.controller||!ab.controller[af]){throw"Could not find controller: "+ad+"."+Y}var i;if(tipJS.isDevelopment===true){i=a()}var Z=c(ab.controller[af]);if(!Z){throw"Could not find controller"}var aa={controllerName:(Z.__name)?Z.__name:Z.name,ctrler:Z,beforeCtrler:ab.define.beforeController,afterCtrler:ab.define.afterController};if(aa.beforeCtrler){if(aa.beforeCtrler(X)===false){return}}var ac=function(){var ai=aa.ctrler;try{var al=function(){if(ai.afterInvoke){ai.afterInvoke(X)}};var ah=function(){var am=true;if(ai.invoke){am=ai.invoke(X)}if(am!==false){al()}};var aj=function(){var am=true;if(ai.beforeInvoke){am=ai.beforeInvoke(X)}if(am!==false){ah()}};aj()}catch(ak){if(ai.exceptionInvoke){ai.exceptionInvoke(ak,X)}else{throw ak}}if(aa.afterCtrler){aa.afterCtrler(X)}if(tipJS.isDevelopment===true){tipJS.debug(Y+" completed in "+((a()-i)/1000)+" seconds")}};if(aa.ctrler.async===true){setTimeout(ac,15)}else{ac()}};tipJS.loadApp=function(ab,ac){tipJS.debug("tipJS version "+tipJS.version+"["+tipJS.lang+"]");for(var X=0,Y=ab.length;X<Y;X++){var aa=ab[X],Z=[];if(!P.MAIN){P.MAIN=aa}if(ac){P[aa]=P[aa]||{};P[aa].onLoadParam=ac}Z.push(s.applicationPath[aa]);Z.push(g.pathDiv);Z.push(s.defineFileName);Z.push(g.extDiv);Z.push(g.extJS);setTimeout(function(){if(!P[aa]||!P[aa].define){throw"Could not find application: "+aa}},1000);w(Z.join(g.blank),{nocache:true,version:Math.random(),paramName:s.noCacheParam})}};tipJS.define=function(Y){Y=j(Y,S.OBJ_TPL.define);if(Y.templateCache===undefined){Y.templateCache=s.templateCache}if(Y.noCache===undefined){Y.noCache=s.noCache;Y.noCacheVersion=s.noCacheVersion;Y.noCacheParam=s.noCacheParam;Y.noCacheAuto=s.noCacheAuto}else{if(Y.noCache===true){if(Y.noCacheVersion===undefined){Y.noCacheVersion=s.noCacheVersion}if(Y.noCacheParam===undefined){Y.noCacheParam=s.noCacheParam}if(Y.noCacheAuto===undefined){Y.noCacheAuto=s.noCacheAuto}}}var i=Y.name;P[i]=P[i]||{};P[i].loadOrder={};P[i].loadOrder=j(P[i].loadOrder,S.OBJ_TPL.loadOrder);var X=P[i].loadOrder.presentOrder();m(i,X);P[i].define=Y;A(i,X)};var S={};S.OBJ_TPL={config:{noCache:false,noCacheVersion:1,noCacheParam:"noCacheVersion",noCacheAuto:false,templateCache:true,charSet:"utf-8",defineFileName:"define",path:{lang:"lang",controllers:"controllers",models:"models",views:"views"},developmentHostList:[],applicationPath:{}},define:{extLib:[],lang:[],controllers:[],models:[],views:[],localSet:false,onLoad:function(){},beforeController:function(){},afterController:function(){}},loadOrder:{index:0,init:function(){this.index=0},presentOrder:function(){return this.order[this.index]},nextOrder:function(){return this.order[++this.index]},isLastOrder:function(){return(this.index+1)==this.order.length},order:["extLib","lang","controllers","models","views"]}};S.depart=S.depart||{};S.common=S.common||{};S.common.models=S.common.models||{};S.common.views=S.common.views||{};var P={},O={},t={},C={},s=c(S.OBJ_TPL.config),n=window.location.pathname,T=window.location.search,M=document.getElementsByTagName("script"),H,d,o,D=null,k=(navigator.language||navigator.systemLanguage||navigator.userLanguage).substr(0,2);for(var U=M.length;U--;){d=M[U].src;o=d.match(/tipJS-MVC-1\.29\.js$/);if(o){H=d.substring(0,d.length-o[0].length);break}}document.write('<script type="text/javascript" charset="UTF-8" src="'+H+"tipJS.config.js?"+s.noCacheParam+"="+Math.random()+'"><\/script>');if(T.match("(\\?|&)debug")!==null||n.match("debug")!==null){D=true}else{if(T.match("(\\?|&)nodebug")!==null||n.match("nodebug")!==null){D=false}}tipJS.isDevelopment=D;tipJS.lang=k})();