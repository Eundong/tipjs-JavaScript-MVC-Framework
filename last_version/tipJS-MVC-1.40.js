/*
 * tipJS - OpenSource Javascript MVC Framework ver.1.40
 * 
 * Copyright 2012.07 SeungHyun PAEK
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * HomePage: http://www.tipjs.com
 * Contact: http://www.tipjs.com/contact
 */
var tipJS={};tipJS.ver=tipJS.version="1.40";(function(){var Z=function(al,i){return !i?document.getElementById(al):i.getElementById(al)};var w=function(i,al){return !al?document.getElementsByName(i):al.getElementsByName(i)};var H=function(i,al){return !al?document.getElementsByTagName(i):al.getElementsByTagName(i)};var u=function(ao){var an=[];if(ao.length){for(var am=0,al=ao.length;am<al;am++){an[am]=ao[am]}}return an};var v=function(i){return"Please check your "+i+" definition"};var ab=function(al,am){for(var i in am){if(al[i]){continue}al[i]=am[i]}return al};var n=function(an,al){if(an instanceof Array){for(var am=an.length;am--;){if(an[am]==al){return true}}}else{if(an==al){return true}}return false};var L=function(ao,am){if(!am||typeof am!="object"){throw new Error(v(ao))}var al=(am.__name)?am.__name:am.name;if(typeof al!="string"){throw new Error(v(ao))}if(am.__extend&&ao!="controllers"&&n(am.__extend,al)){throw new Error("Can't extend itself:"+al)}var an=al.split("."),ap=an[0],i=an[1],ar=W[ap];if(!ar){throw new Error(v(ao))}if(ar.loadOrder.presentOrder()===ao){var aq=R[ap]=R[ap]||{};aq[ao]=aq[ao]||{};aq[ao][i]=am}};var t=function(aq,am){var al=o.loadOrder;if(am===al.order[0]){return g(aq[am])}var ap=aq.name;if(W.MAIN&&W.MAIN!=ap&&am!="models"){return[]}if(am===al.order[1]&&aq.localSet){aq[am]=[M+q.path.lang+"/"+tipJS.lang+".js"];return aq[am]}var ao=q.path[am],an=q.applicationPath[ap],i=g(aq[am]);return A(an,ao,i)};var A=function(an,ap,ao){var am=[];for(var al=ao.length;al--;){am.push(an+ac(ap)+ao[al])}return am};var I=function(al,i){if(i.nocache===true){al+=(al.indexOf("?")<0)?"?":"&";al+=i.paramName+"="+i.version}return al};var l=tipJS.loadJS=function(an,am,al){var i=document.createElement("script");i.type="text/javascript";i.src=I(an,am);i.charset=q.charSet;if(al){if(i.readyState){i.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete"){this.onreadystatechange=null;al(this)}}}else{i.onload=function(){al(this)}}}H("head")[0].appendChild(i)};var ah=function(i,am,al){l(al,G(i),function(an){if(Q(i,am,an.src)){V(i)}})};var ai=function(al,an){D(al,an);var ao=X[al][an].requireList=t(p(al),an);if(ao.length>0){for(var am=ao.length;am--;){ah(al,an,ao[am])}}else{V(al)}};var e=function(ao,an){var al=ao.__extend;if(!al){return ao}if(typeof al=="string"){ao=B(ao,al,an)}else{if(al instanceof Array){for(var am=al.length;am--;){ao=B(ao,al[am],an)}}}return ao};var B=function(an,am,al){var i=am.split(".");if(al=="model"){if(i.length==2){return ab(an,N(K(i[1],false,i[0])))}else{return ab(an,N(m(am)))}}else{if(i.length==2){return ab(an,N(J(i[1],i[0])))}else{return ab(an,N(c(am)))}}};var m=tipJS.loadCommonModel=function(al,ap){var an=ae;if(!an[al]||an[al]===undefined){throw new Error("Could not find commonModel: "+al)}if(ap===true){var am=C;if(am[al]){return am[al]}var i=am[al]=N(an[al],P["CommonModel"+al]);if(typeof i.__init=="function"){i.__init()}return i}var ao=N(an[al],P["CommonModel"+al]);if(typeof ao.__init=="function"){ao.__init()}return ao};var K=function(am,ar,al){var aq=(!al)?W.MAIN:al,ao=R[aq].models;if(!ao[am]||ao[am]===undefined){throw new Error("Could not find model: "+am)}if(ar===true){var an=R[aq].syncModels;if(!an){an=R[aq].syncModels={}}if(an[am]){return an[am]}var i=an[am]=N(ao[am],P["models"+aq+"."+am]);if(typeof i.__init=="function"){i.__init()}return i}var ap=N(ao[am],P["models"+aq+"."+am]);if(typeof ap.__init=="function"){ap.__init()}return ap};var c=function(am){var al=a;if(!al||!al[am]||al[am]===undefined){throw new Error("Could not find commonView: "+am)}var i=N(al[am],P["CommonView"+am]);if(typeof i.__init=="function"){i.__init()}return i};var J=function(ao,i){var an=(!i)?W.MAIN:i,am=R[an].views;if(!am||!am[ao]||am[ao]===undefined){throw new Error("Could not find view: "+ao)}var al=N(am[ao],P["views"+an+"."+ao]);if(typeof al.__init=="function"){al.__init()}return al};tipJS.loadModel=function(al,ao){var am,an,i,ap=(typeof ao=="boolean")?ao:false;if((am=al.split(".")).length!=2){throw new Error("tipJS.loadModel : invalid parameter")}an=am[0];i=am[1];return K(i,ap,an)};var p=function(i){return W[i].define};var G=function(i){var am={};var al=p(i);if(al){am.nocache=al.noCache;am.version=(al.noCacheAuto===true)?""+Math.random():al.noCacheVersion;am.paramName=al.noCacheParam}return am};var b=function(){var an,ap,i,al,am,ao;for(an in W){U[an]={};ap=W[an];i=ap.controller;for(al in i){am=N(i[al]);ao={controllerName:(am.__name)?am.__name:am.name,beforeCtrler:ap.define.beforeController,afterCtrler:ap.define.afterController,loadCommonModel:am.loadCommonModel,loadCommonView:am.loadCommonView,loadModel:am.loadModel,loadView:am.loadView,renderTemplate:am.renderTemplate,getById:am.getById,getByName:am.getByName,getByTag:am.getByTag};U[an][al]=(function(ar,aq){return function(){var au=arguments,av,at;if(tipJS.isDevelopment===true){av=z()}if(ar.beforeCtrler&&ar.beforeCtrler.apply(ar,arguments)===false){return}at=function(){var ax=function(){var aA=function(){if(aq.afterInvoke){aq.afterInvoke.apply(aq,au)}};var ay=function(){if(aq.invoke&&aq.invoke.apply(aq,au)===false){return}aA()};var az=function(){if(aq.beforeInvoke&&aq.beforeInvoke.apply(aq,au)===false){return}ay()};az()};if(aq.exceptionInvoke){try{ax()}catch(aw){(au=u(au)).unshift(aw);aq.exceptionInvoke.apply(aq,au)}}else{ax()}if(ar.afterCtrler){ar.afterCtrler.apply(ar,au)}if(tipJS.isDevelopment===true){tipJS.debug(ar.controllerName+" completed in "+((z()-av)/1000)+" seconds")}};if(aq.async===true){setTimeout(at,(!aq.delay?15:aq.delay))}else{at()}}})(ao,am)}}};var V=function(au){var am,aw;var ap=W[au];if(ap.loadOrder.isLastOrder()===false){ai(au,ap.loadOrder.nextOrder());return}if(W.MAIN!=au){return}var ao=ap.controller=R[au].controllers;if(ao){for(am in ao){ao[am].loadCommonModel=m;ao[am].loadCommonView=c;ao[am].loadModel=K;ao[am].loadView=J;ao[am].renderTemplate=x;ao[am].getById=Z;ao[am].getByName=w;ao[am].getByTag=H}}b();for(am in ae){aw=(ae[am].__name)?ae[am].__name:ae[am].name;e(ae[am],"model");if(aw.lastIndexOf("VO")!=(aw.length-2)){ae[am].loadCommonModel=m;ae[am].getById=Z;ae[am].getByName=w;ae[am].getByTag=H}P["CommonModel"+aw]=Y(ae[am])}var aq=R[au].models;if(aq){for(am in aq){aw=(aq[am].__name)?aq[am].__name:aq[am].name;e(aq[am],"model");if(aw.lastIndexOf("VO")!=(aw.length-2)){aq[am].loadCommonModel=m;aq[am].loadModel=K;aq[am].getById=Z;aq[am].getByName=w;aq[am].getByTag=H}P["models"+aw]=Y(aq[am])}}for(am in a){aw=(a[am].__name)?a[am].__name:a[am].name;e(a[am],"view");a[am].loadCommonView=c;a[am].renderTemplate=x;a[am].getById=Z;a[am].getByName=w;a[am].getByTag=H;P["CommonView"+aw]=Y(a[am])}var al=R[au].views;if(al){for(am in al){aw=(al[am].__name)?al[am].__name:al[am].name;e(al[am],"view");al[am].loadCommonView=c;al[am].loadView=J;al[am].renderTemplate=x;al[am].getById=Z;al[am].getByName=w;al[am].getByTag=H;P["views"+aw]=Y(al[am])}}tipJS.debug("tipJS version "+tipJS.version+"["+tipJS.lang+"]");ap.define.onLoad.apply(ap.define,ap.onLoadArgs);if(E&&E[au]){var at=E[au];for(var an=0,av=at.length;an<av;an++){var ar=at[an];tipJS.action(ar.name,ar.param)}delete E[au]}};var Q=function(al,ao,aq){var an,ap=X[al][ao].requireList,am;for(an=ap.length;an--;){if(ap[an]===true){continue}am=ap[an].indexOf("./")>-1?ap[an].substr(ap[an].lastIndexOf("./")+1):ap[an];if(aq.indexOf(am)>-1){ap[an]=true;break}}for(an=ap.length;an--;){if(ap[an]!==true){return false}}return true};var ac=function(i){return"/"+i+"/"};var af=function(i){if(typeof Object.create=="function"){af=function(al){return Object.create(al)}}else{af=function(am){function al(){}al.prototype=am;return new al()}}return af(i)};var N=tipJS.cloneObject=function(an,i){if(an==null||typeof an!="object"){return an}if(!i){var am=(an instanceof Array)?[]:{};for(var al in an){if(typeof an[al]=="object"){am[al]=N(an[al],false)}else{am[al]=an[al]}}return am}else{return af(an)}};var Y=function(al){for(var i in al){if(typeof al[i]=="object"){return true}}return false};var ag=tipJS.echo=function(an,al,am){if(am&&(typeof am!="string"||typeof am=="string"&&(am.split(".").length+am.split("]").length)>3)){return}if(!al){al=""}if(an===null||an===undefined){console.log(((am)?am+".":"")+an);return}if(typeof an!="object"){if(typeof an==al||al===""){console.log(((am)?am+".":"")+an+"["+typeof an+"]")}return}if(an instanceof Array){console.log(((am)?am+":":"")+"[Array["+an.length+"]]")}else{console.log(((am)?am+":":"")+"[Object]")}for(var i in an){if(an instanceof Array){if(typeof an[i]=="object"){ag(an[i],al,((am)?am+"[":"[")+i+((am)?"]":"]"))}else{if(typeof an[i]==al||al===""){console.log(((am)?am+"[":"[")+i+((am)?"]":"]")+":"+an[i]+" ("+typeof an[i]+")")}}}else{if(typeof an[i]=="object"){ag(an[i],al,((am)?am+".":"")+i)}else{if(typeof an[i]==al||al===""){console.log(((am)?am+".":"")+i+":"+an[i]+" ("+typeof an[i]+")")}}}}};var g=tipJS.uniqueArray=function(am){var ao=[],al=am.length;for(var ap=0;ap<al;ap++){for(var an=ap+1;an<al;an++){if(am[ap]===am[an]){an=++ap}}ao.push(am[ap])}return ao};var D=function(i,al){var am=X[i]=X[i]||{};am[al]=am[al]||{}};var S=function(an,am){for(var ao=0,al=am.length;ao<al;ao++){var ap=am[ao];if(an.noCache&&an.noCache===true){ap+=(ap.indexOf("?")<0)?"?":"&";ap+=(an.noCacheParam?an.noCacheParam:q.noCacheParam)+"=";if(an.noCacheAuto===true){ap+=Math.random()}else{ap+=(an.noCacheVersion?an.noCacheVersion:q.noCacheVersion)}}document.write('<script type="text/javascript" charset="'+(an.charSet?an.charSet:q.charSet)+'" src="'+ap+'"><\/script>')}};tipJS.config=function(al){if(al.commonLib){S(al,al.commonLib)}if(al.commonModel){S(al,al.commonModel)}if(al.commonView){S(al,al.commonView)}q=ab(al,o.config);if(tipJS.isDevelopment===null){for(var am=q.developmentHostList.length;am--;){if(aj.hostname.match(q.developmentHostList[am])!==null){tipJS.isDevelopment=true;break}}}};var z=function(){var i=new Date();return(i.now)?i.now():i.getTime()};tipJS.benchmark={};tipJS.benchmark.mark=function(i){y[i]=z()};tipJS.benchmark.elapsedTime=function(i,an,al){var am=y[i],ap=y[an],ao=(ap-am)/1000;if(al){al(i,an,am,ap,ao)}else{tipJS.log("elapsed time["+i+" to "+an+"] : "+ao+" seconds","[BENCHMARK]")}return ao};var k=function(){var i=false;if(window.XMLHttpRequest){i=new XMLHttpRequest()}else{if(window.ActiveXObject){try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(am){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(al){}}}}k=function(){return i};return k()};var x=function(an){var am;var ap=W.MAIN;if(arguments.length>1){return s(arguments[0],arguments[1],arguments[2])}if(p(ap).templateCache&&r[an.url]){am=s(r[an.url],an.data,an.tplId);if(typeof an.renderTo=="string"){Z(an.renderTo).innerHTML+=am}return am}var al=G(ap),aq=I(an.url,al),i=k();i.open("GET",aq,false);try{i.send(null)}catch(ao){return null}if(i.readyState==4&&i.status==200){am=r[an.url]=i.responseText;am=s(am,an.data,an.tplId);if(typeof an.renderTo=="string"){Z(an.renderTo).innerHTML+=am}return am}else{throw new Error("Could not find template file:"+aq)}};var s=function(aq,ao,au){aq=aq.replace(/\r\n/g,"\n");aq=aq.replace(/\r/g,"\n");aq=aq.replace(/\\/g,"\\\\");aq=aq.replace(/\n/g,"");if(typeof au=="string"){var at=aq.split("[[#"),am=new RegExp("^"+au+"]]");for(var ap=0,ar=at.length;ap<ar;ap++){if(at[ap].match(am)){aq=at[ap].replace(am,"");break}}}else{aq=aq.replace(/\[\[#[a-zA-Z0-9_-]*\]\]/g,"")}var an=aq.split("@>"),al=new Function("data",ak(an));return al(ao)};var ak=function(au){var ax=[],av=[],al=[],ar="PLN",aw="VAL",an="PAS",ap="__tempArr__.push(",ao,at,aq,am;ax.push("var __tempArr__ = [];");for(ao=0,at=au.length;ao<at;ao++){aq=au[ao];if(aq.indexOf("<@=")>-1){am=aq.split("<@=");if(am.length>1){al.push(am[0].replace(/"/g,'\\"'));al.push(am[1]);av.push(ar);av.push(aw)}else{al.push(am[0]);av.push(aw)}}else{if(aq.indexOf("<@")>-1){am=aq.split("<@");if(am.length>1){al.push(am[0].replace(/"/g,'\\"'));al.push(am[1]);av.push(ar);av.push(an)}else{al.push(am[0]);av.push(an)}}else{al.push(aq.replace(/"/g,'\\"'));av.push(ar)}}}for(ao=0,at=al.length;ao<at;ao++){aq=al[ao];if(av[ao]==aw){aq='""+'+aq+'+""';ax.push(ap+aq+");")}else{if(av[ao]==an){ax.push(aq)}else{aq='"'+aq+'"';ax.push(ap+aq+");")}}}ax.push("return __tempArr__.join('');");return ax.join("")};tipJS.commonModel=function(al){var i="CommonModel";if(!al||typeof al!="object"){throw new Error(v(i))}var am=(al.__name)?al.__name:al.name;if(typeof am!="string"){throw new Error(v(i))}if(al.__extend&&n(al.__extend,am)){throw new Error("Can't extend itself:"+am)}ae[am]=al};tipJS.commonView=function(al){var i="CommonView";if(!al||typeof al!="object"){throw new Error(v(i))}var am=(al.__name)?al.__name:al.name;if(typeof am!="string"){throw new Error(v(i))}if(al.__extend&&n(al.__extend,am)){throw new Error("Can't extend itself:"+am)}a[am]=al};tipJS.log=function(am,an){window.console=window.console||{log:function(){},error:function(){}};var ar=new Date(),i=ar.getFullYear(),au=ar.getMonth()+1,ao=ar.getDate(),at=ar.getHours(),al=ar.getMinutes(),ap=ar.getSeconds(),aq=ar.getMilliseconds();console.log(((an)?an:"")+i+"/"+au+"/"+ao+" "+at+":"+al+":"+ap+"."+aq+" "+am)};tipJS.debug=function(i){if(tipJS.isDevelopment){tipJS.log(i,"[DEBUG]")}};tipJS.localSet=function(i){var al=W[W.MAIN];if(al.loadOrder.presentOrder()===o.loadOrder.order[1]){T=i}};tipJS.msg=function(i){return T[i]?T[i]:i};tipJS.controller=function(i){L("controllers",i)};tipJS.model=function(i){L("models",i)};tipJS.view=function(i){L("views",i)};tipJS.action=function(){var an,ao,aq,ap;if(!arguments.length){return U}else{var am=arguments[0];var al=u(arguments).slice(1);an=am.split(".");if((ao=an[0]).length==0||(aq=an[1]).length==0){throw new Error("tipJS.action : invalid parameter")}ap=W[ao];if(!ap||!ap.loadOrder||!ap.loadOrder.isLastOrder()){E[ao]=E[ao]||[];E[ao].push({name:am,param:al});return}var i=U[ao][aq];i.apply(i,al)}};tipJS.loadApp=function(){var aq=arguments[0],al=u(arguments).slice(1);if(typeof aq=="string"){aq=[aq]}for(var am=0,ao=aq.length;am<ao;am++){var ap=aq[am];if(!W.MAIN){W.MAIN=ap}if(al.length){W[ap]={};W[ap].onLoadArgs=al}var an=q.applicationPath[ap]+"/"+q.defineFileName+".js";setTimeout(function(){if(!W[ap]||!W[ap].define){throw new Error("Could not find application:"+ap)}},1000);l(an,{nocache:true,version:Math.random(),paramName:q.noCacheParam})}delete tipJS.loadApp};tipJS.define=function(am){ab(am,o.define);if(am.templateCache===undefined){am.templateCache=q.templateCache}if(am.noCache===undefined){am.noCache=q.noCache;am.noCacheVersion=q.noCacheVersion;am.noCacheParam=q.noCacheParam;am.noCacheAuto=q.noCacheAuto}else{if(am.noCache===true){if(am.noCacheVersion===undefined){am.noCacheVersion=q.noCacheVersion}if(am.noCacheParam===undefined){am.noCacheParam=q.noCacheParam}if(am.noCacheAuto===undefined){am.noCacheAuto=q.noCacheAuto}}}var i=am.name;W[i]=W[i]||{};W[i].loadOrder={};ab(W[i].loadOrder,o.loadOrder);var al=W[i].loadOrder.presentOrder();D(i,al);W[i].define=am;ai(i,al)};var X={},R={},ae={},C={},a={},o={config:{noCache:false,noCacheVersion:1,noCacheParam:"noCacheVersion",noCacheAuto:false,templateCache:true,charSet:"utf-8",defineFileName:"define",path:{lang:"lang",controllers:"controllers",models:"models",views:"views"},developmentHostList:[],applicationPath:{}},define:{extLib:[],lang:[],controllers:[],models:[],views:[],localSet:false,onLoad:function(){},beforeController:function(){},afterController:function(){},loadCommonModel:m,loadModel:K,loadCommonView:c,loadView:J},loadOrder:{index:0,init:function(){this.index=0},presentOrder:function(){return this.order[this.index]},nextOrder:function(){return this.order[++this.index]},isLastOrder:function(){return(this.index+1)==this.order.length},order:["extLib","lang","controllers","models","views"]}},y={},W={},U={},T={},r={},E={},q=N(o.config),P={},aj=window.location,h=aj.pathname,aa=aj.search,O=H("script"),M,d,j,F=null,f=(navigator.language||navigator.systemLanguage||navigator.userLanguage).substr(0,2);for(var ad=O.length;ad--;){d=O[ad].src;j=d.match(/tipJS-MVC-1\.40\.js$/);if(j){M=d.substring(0,d.length-j[0].length);break}}if(aa.match("(\\?|&)debug")!==null||h.match("debug")!==null){F=true}tipJS.isDevelopment=F;tipJS.lang=f;document.write('<script type="text/javascript" charset="UTF-8" src="'+M+"tipJS.config.js?"+q.noCacheParam+"="+Math.random()+'"><\/script>')})();